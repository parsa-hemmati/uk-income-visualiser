body {
    font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 30px;
    background-color: #f8f9fa;
    color: #333;
}

h1 {
    color: #1a3f77; /* More British/professional blue */
    text-align: center;
    margin-bottom: 30px;
    font-size: 2.2em;
    letter-spacing: -0.5px;
}

h2, h3 {
    color: #2c5499;
}

.input-section, .results-section {
    background-color: #fff;
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.input-section label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.input-section input[type="number"] {
    width: 150px;
    padding: 8px;
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.results-section h2 {
    margin-top: 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
}

.results-section div { /* Style each result block */
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px dashed #eee;
}

.results-section div:last-child {
    border-bottom: none; /* Remove border from the last result block */
    margin-bottom: 0;
    padding-bottom: 0;
}

.results-section h3 {
    margin-top: 0;
    color: #555;
}

.results-section p {
    margin: 5px 0;
}

.results-section span { /* Style the result values */
    font-weight: bold;
    color: #007bff; /* A blue color for emphasis */
}

/* Styling for the Ltd Company specific inputs */
.ltd-inputs {
    margin-top: 15px;
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    background-color: #f9f9f9;
}

.ltd-inputs label {
    display: block;
    margin-bottom: 3px;
    font-weight: normal; /* Less emphasis than main label */
    font-size: 0.9em;
    color: #666;
}

.ltd-inputs input[type="number"] {
    width: 120px; /* Slightly smaller width */
    margin-bottom: 10px;
}

/* Styling for input explanations */
.input-section small {
    display: block;
    font-size: 0.8em;
    color: #888;
    margin-top: -10px; /* Pull up slightly */
    margin-bottom: 15px; /* Add space below */
}

/* Styling for results breakdown */
.deductions {
    font-size: 0.9em;
    color: #555;
    background-color: #f0f0f0;
    padding: 10px 15px;
    margin: 15px 0;
    border-radius: 4px;
    border: 1px solid #ddd;
}

.deductions p {
    margin: 3px 0;
    display: flex; /* Use flexbox for alignment */
    justify-content: space-between; /* Space out label and value */
}

.deductions span {
    font-weight: bold;
    color: #d9534f; /* Reddish color for deductions */
    margin-left: 10px; /* Space between label and value */
}

/* Specific overrides for positive values if needed */
#st-profit, #ltd-actual-dividends {
    color: #5cb85c; /* Green for profit/dividends */
}

/* Styling for Pension inputs */
.pension-inputs {
    margin-top: 15px;
    padding: 10px 15px; /* Slightly less padding */
    border: 1px dashed #e0e0e0; /* Dashed border to differentiate */
    border-radius: 5px;
    background-color: #fafafa; /* Slightly different background */
}

.pension-inputs label {
    display: block;
    margin-bottom: 3px;
    font-weight: normal;
    font-size: 0.9em;
    color: #666;
}

.pension-inputs input[type="number"] {
    width: 80px; /* Smaller width for percentages/amounts */
    margin-bottom: 5px; /* Less margin */
}

/* Styling for BiK inputs */
.bik-inputs {
    margin-top: 15px;
    padding: 10px 15px;
    border: 1px dashed #e0e0e0;
    border-radius: 5px;
    background-color: #fafafa;
}

.bik-inputs label {
    display: block;
    margin-bottom: 3px;
    font-weight: normal;
    font-size: 0.9em;
    color: #666;
}

.bik-inputs input[type="number"] {
    width: 120px; /* Match other expense inputs */
    margin-bottom: 5px;
}

.bik-inputs small {
    display: block;
    font-size: 0.8em;
    color: #888;
    margin-top: -5px;
}

.ltd-inputs small {
    display: block;
    font-size: 0.8em;
    color: #888;
    margin-top: -5px;
}

/* Styling for the Sole Trader specific inputs */
.st-inputs {
    margin-top: 15px;
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    background-color: #f9f9f9;
}

.st-inputs label {
    display: block;
    margin-bottom: 3px;
    font-weight: normal;
    font-size: 0.9em;
    color: #666;
}

.st-inputs input[type="number"] {
    width: 120px;
    margin-bottom: 10px;
}

/* Styling for Input Sections */
.common-inputs, .scenario-inputs {
    /* Keep general input section styling */
    background-color: #fff;
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.scenario-inputs h2, .common-inputs h2 {
    margin-top: 0;
    margin-bottom: 15px;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    font-size: 1.2em;
}

/* Input Table Styling */
.input-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed; /* Ensure fixed widths */
}

.input-header-row {
    display: flex;
    background-color: #f2f2f2;
    border-bottom: 2px solid #ddd;
}

.input-header {
    flex: 1;
    padding: 10px;
    text-align: center;
    font-weight: bold;
    border-left: 1px solid #ddd;
    width: 23.3%; /* Match result table column width */
}

.input-header:first-child {
    flex: 0.8; /* More space for labels */
    border-left: none;
    width: 30%; /* Match result table first column */
}

/* Input Rows */
.input-row {
    display: flex;
    border-bottom: 1px solid #eee;
    align-items: flex-start;
    padding: 15px 0;
}

.input-row:last-child {
    border-bottom: none;
}

.input-label {
    flex: 0.8;  /* Match with header proportion */
    padding-right: 15px;
    width: 30%; /* Match results table first column */
}

.input-label h3 {
    margin: 0 0 5px 0;
    font-size: 1em;
    color: #444;
}

.help-text {
    margin: 0;
    font-size: 0.8em;
    color: #777;
    font-style: italic;
}

.input-cell {
    flex: 1;
    padding: 0 10px;
    border-left: 1px solid #eee;
    width: 23.3%; /* Match results table column */
}

.input-cell label {
    display: block;
    margin-bottom: 3px;
    font-weight: normal;
    font-size: 0.9em;
    color: #333;
}

.input-cell input[type="number"] {
    width: 120px; /* Consistent smaller width */
    padding: 8px 10px;
    margin-bottom: 10px;
    border: 1px solid #c0d6e4;
    border-radius: 4px;
    font-size: 14px;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.input-cell input[type="number"]:focus {
    outline: none;
    border-color: #2c5499;
    box-shadow: 0 0 0 3px rgba(44, 84, 153, 0.15);
}

.input-cell input[type="number"]:disabled {
    background-color: #f0f3f8;
    color: #666;
    border-color: #c0d6e4;
}

.not-applicable {
    color: #999;
    font-style: italic;
    padding-top: 8px;
}

/* Input Controls Styling */
.input-with-controls {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.input-controls {
    display: flex;
    gap: 5px;
}

.control-btn {
    width: 28px;
    height: 28px;
    border-radius: 4px;
    border: 1px solid #c0d6e4;
    background: #f0f8ff;
    color: #2c5499;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.control-btn:hover {
    background: #e0f0ff;
    border-color: #2c5499;
}

.control-btn:active {
    background: #d0e8ff;
    transform: translateY(1px);
}

/* Link Buttons Styling */
.link-buttons-container {
    margin-top: 10px;
}

.income-options-container {
    margin-top: 15px;
    margin-bottom: 10px;
    padding: 10px 15px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    background-color: #f6f9fc;
}

#calculate-available-btn {
    width: 100%;
    margin-top: 8px;
    background-color: #4caf50;
    font-size: 0.9em;
}

#calculate-available-btn:hover {
    background-color: #45a049;
}

/* Transfer message styling */
.transfer-message {
    font-size: 0.8em;
    color: #0066cc;
    margin: 5px 0;
    padding: 4px 8px;
    background-color: #e6f2ff;
    border-radius: 4px;
    transition: all 0.3s ease;
    height: auto;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
}

.transfer-message.active {
    opacity: 1;
    max-height: 40px;
    margin: 5px 0;
    border-left: 3px solid #0066cc;
}

.link-header {
    margin-bottom: 10px;
}

.link-label {
    display: block;
    font-size: 0.8em;
    font-weight: bold;
    color: #555;
    margin-bottom: 5px;
}

.link-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
}

.link-btn {
    background-color: #f0f8ff;
    border: 1px solid #c0d6e4;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75em;
    cursor: pointer;
    color: #2c5499;
    transition: all 0.2s ease;
}

.link-btn:hover {
    background-color: #e0f0ff;
    border-color: #2c5499;
}

.link-btn.active {
    background-color: #2c5499;
    color: white;
    border-color: #1a3f77;
    font-weight: bold;
}

.link-btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(44, 84, 153, 0.15);
}

/* Linked Input Styling */
.input-with-link {
    display: flex;
    align-items: center;
    gap: 5px;
}

.link-checkbox {
    display: inline-flex;
    align-items: center;
    margin-bottom: 0;
    cursor: pointer;
}

.link-checkbox input[type="checkbox"] {
    display: none;
}

.link-icon {
    font-size: 1.2em;
    display: inline-block;
    padding: 2px;
    border-radius: 3px;
    transition: all 0.2s ease;
    color: #007bff;
}

.link-checkbox input[type="checkbox"]:checked + .link-icon {
    background-color: #e7f3ff;
    box-shadow: 0 0 0 1px #007bff;
}

.link-checkbox input[type="checkbox"]:not(:checked) + .link-icon {
    opacity: 0.4;
    color: #666;
}

/* Common inputs row */
.common-inputs .input-row {
    display: flex;
    gap: 30px; /* Space between input cells */
    border-bottom: none;
}

.common-inputs .input-cell {
    flex: 1;
    border: none;
    padding: 0;
}

.common-inputs input[type="number"] {
    width: 150px; /* Slightly wider for these common inputs */
}


/* Tooltip Styling */
.tooltip {
    position: relative; /* Needed for potential custom tooltips later */
    cursor: help; /* Show help cursor on hover */
    border-bottom: 1px dotted #007bff; /* Indicate interactivity - using theme blue */
    display: inline-block; /* Ensure it behaves well inline */
    margin-left: 4px; /* Add a little space before the question mark */
    font-weight: bold;
    color: #007bff;
}

/* Hide the actual text span if we only want the question mark */
/* span.tooltip > span { display: none; } */ /* Uncomment if needed */

/* Basic styling for the title attribute tooltip (browser default) */
/* No extra CSS needed for the default browser tooltip */

/* Results Header Styling */
.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.action-buttons {
    display: flex;
    gap: 10px;
    align-items: center;
}

.action-btn {
    background-color: #2c5499;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 8px 12px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.2s ease;
}

.action-btn:hover {
    background-color: #1a3f77;
}

.action-btn.secondary {
    background-color: #6c757d;
}

.action-btn.secondary:hover {
    background-color: #5a6268;
}

#scenario-name {
    padding: 8px;
    border: 1px solid #c0d6e4;
    border-radius: 4px;
    width: 200px;
}

/* Validation Message Styling */
.validation-message {
    background-color: #ffecb3; /* Light amber background */
    color: #804000; /* Dark amber text */
    padding: 10px 15px;
    margin: 0 auto 15px auto;
    border-radius: 6px;
    border-left: 4px solid #ff9800; /* Amber accent */
    font-weight: 500;
    max-width: 1200px;
    text-align: center;
    transition: all 0.3s ease;
    opacity: 1;
    animation: fadeInOut 5s forwards;
}

.validation-message.hidden {
    display: none;
    opacity: 0;
}

@keyframes fadeInOut {
    0% { opacity: 0; }
    10% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; display: none; }
}

/* Disclaimer Section Styling */
.disclaimer-section {
    background-color: #fff8e1; /* Light yellow background for warning/disclaimer */
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 12px;
    border-left: 5px solid #ffc107; /* Warning yellow accent */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.disclaimer-section h2 {
    color: #b45309; /* Darker warm color for disclaimer heading */
    margin-top: 0;
    margin-bottom: 15px;
}

.disclaimer-section ul {
    margin-top: 10px;
    margin-bottom: 15px;
    padding-left: 25px;
}

.disclaimer-section li {
    margin-bottom: 8px;
    line-height: 1.5;
}

.disclaimer-section a {
    color: #2c5499;
    text-decoration: none;
    font-weight: bold;
}

.disclaimer-section a:hover {
    text-decoration: underline;
}

/* Saved Scenarios Section Styling */
.saved-scenarios-section {
    background-color: #fff;
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.scenarios-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.export-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

#export-filename {
    padding: 8px;
    border: 1px solid #c0d6e4;
    border-radius: 4px;
    width: 200px;
}

#export-format {
    padding: 8px;
    border: 1px solid #c0d6e4;
    border-radius: 4px;
    background-color: white;
}

#no-scenarios-message {
    padding: 20px;
    text-align: center;
    color: #6c757d;
    font-style: italic;
}

.hidden {
    display: none;
}

#scenarios-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

#scenarios-table th, #scenarios-table td {
    border: 1px solid #dbe9f5;
    padding: 12px;
    text-align: right;
}

#scenarios-table th {
    background-color: #2c5499;
    color: white;
    text-align: center;
}

#scenarios-table tr.subheader th {
    background-color: #1a3f77;
    font-size: 0.85em;
    padding: 8px 5px;
}

#scenarios-table th:first-child,
#scenarios-table td:first-child {
    text-align: left;
}

.scenario-actions {
    display: flex;
    justify-content: space-around;
    gap: 5px;
}

.scenario-btn {
    background-color: transparent;
    border: none;
    cursor: pointer;
    font-size: 1.1em;
    color: #2c5499;
    padding: 3px;
    border-radius: 3px;
    transition: all 0.2s ease;
}

.scenario-btn:hover {
    background-color: #e0f0ff;
}

.scenario-btn.delete {
    color: #dc3545;
}

.scenario-btn.delete:hover {
    background-color: #ffe0e0;
}

/* Results Table Styling */
#results-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    table-layout: fixed; /* Ensure fixed widths */
}

#results-table {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
}

#results-table th, #results-table td {
    border: 1px solid #dbe9f5;
    padding: 12px 15px; /* Slightly more padding */
    text-align: right;
    vertical-align: top;
    width: 23.3%; /* Match input table cells */
}

#results-table th {
    background-color: #2c5499;
    color: white;
    text-align: center;
    font-weight: bold;
    padding: 14px 12px;
}

#results-table th:first-child {
    background-color: #1a3f77;
}

#results-table th:first-child,
#results-table td:first-child {
    width: 30%; /* Match input table first column */
    text-align: left;
    font-weight: bold;
    background-color: #f9f9f9;
}

#results-table td {
    font-size: 0.95em;
    font-family: inherit; /* Use the same font as the rest of the application */
}

#results-table .highlight-row td {
    font-weight: bold;
    background-color: #e5f0ff; /* Light blue highlight for key results */
    color: #15283c;
    font-size: 1.05em;
}
#results-table .highlight-row td:first-child {
     background-color: #d0e4ff; /* Slightly darker blue for metric label */
}


#results-table .separator td {
    background-color: #e9ecef;
    font-weight: bold;
    text-align: center;
    font-style: italic;
    color: #555;
    padding: 5px;
    border-left: none;
    border-right: none;
}

/* Ensure tooltips within table cells work well */
#results-table .tooltip {
    border-bottom: none; /* Remove dotted line within table */
    margin-left: 0; /* Reset margin */
    font-weight: normal; /* Reset font weight */
    color: inherit; /* Inherit color */
    display: inline; /* Ensure it doesn't break layout */
}
#results-table td:first-child .tooltip {
     border-bottom: 1px dotted #007bff; /* Add back for metric labels */
     font-weight: bold; /* Keep bold for metric labels */
     color: #007bff;
}
